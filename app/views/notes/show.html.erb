 <div id = "show">

		<h1><%= @note["prompt"] %></h1>
		<h2><%= @note["body"] %></h2>
	 <div id = "note-upper">	
		<button class="btn btn-small btn-inverse" onclick="displayNotebookList()">Link to this note</button>
	</div>
	<div class = "linked-container">	
		<h3>Linked notes</h3>
		<% if @linked_notes.empty? %>
			<p style="font-style:italic;">None yet. Add some!</p>
		<% else %>
			<ul>
				<% @linked_notes.each do |n|%>
					<%= link_to "<li>#{n[0]}</li>".html_safe, "/notes/#{n[1]}", :class => "linked" %>
				<% end %>
			</ul>
		<% end %>
	</div>
	<div class = "linked-container">	
		<h3>Suggested notes</h3>
		<% if @suggested_notes.empty? %>
			<p>There are no similar notes. Why don't you write some?</p>
		<% else %>
			<ul>
				<% @suggested_notes.each do |n|%>
					<%= link_to "<li>#{n[1]}</li>".html_safe,  "/notes/#{n[2]}", :class => "linked" %>
				<% end %>
			</ul>
		<% end %>
	</div>	
</div>

<script type = "text/javascript">
function displayNotebookList(){
	var str = "<select id='selector'><% @notes.each do |n|%><option value = <%= n[0]['data']['uid'] %>><%= n[0]['data']['prompt']%></option><% end %></select>"
	var btn = "<br><button class='btn btn-small btn-inverse' onclick='linklink()'>Go</button>"
	document.getElementById('note-upper').innerHTML=str +btn;
}
function linklink(){
	s = document.getElementById('selector');
	n1 = s.value;
	n2 = "<%= escape_javascript @note['uid'] %>";
	n1txt = s.options[ s.selectedIndex].text
	console.log(n1);
	console.log(n2);
	console.log(n1txt);
	alert("This note will now be listed in the LINKED section of your note entitled: \""+n1txt+"\".");
	$.ajax({
	    url: "/relationships",
	    type: "POST",
	    data: {
	             uid1: n1, 
	             uid2: n2}
	});
}
</script>